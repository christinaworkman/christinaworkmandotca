(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{App:()=>M,Error:()=>b,Root:()=>A,createAppState:()=>c,createStoreRegistry:()=>E});const r=React;var n=e.n(r);const a=Redux,o=ReactRouterDOM,s={handle:"",label:"",render:()=>null,icon:()=>null,isEnabled:!0},c=(e=s)=>({reducers:{apps:(t={},r)=>{switch(r.type){case"REGISTER_APP":return{[r.handle]:{...e,handle:r.handle,...r.config},...t};case"UNREGISTER_APP":return delete t[r.handle],{...t};default:return t}}},actions:{registerApp:(e="",t={})=>({type:"REGISTER_APP",handle:e,config:t}),unregisterApp:(e="")=>({type:"UNREGISTER_APP",handle:e})}}),l=(e,t)=>typeof e==typeof t&&("string"==typeof e||"number"==typeof e?e===t:JSON.stringify(e)===JSON.stringify(t)),i=(e,t,r)=>"boolean"==typeof e?e:"function"==typeof e?e(t,r):"string"==typeof e?!l(t[e],r[e]):!!Array.isArray(e)&&e.some((e=>!l(t[e],r[e]))),p=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");return t=Object.assign({pascalCase:!1},t),0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=(e=>{let t=!1,r=!1,n=!1;for(let a=0;a<e.length;a++){const o=e[a];t&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(e=e.slice(0,a)+"-"+e.slice(a),t=!1,n=r,r=!0,a++):r&&n&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(e=e.slice(0,a-1)+"-"+e.slice(a-1),n=r,r=!1,t=!0):(t=o.toLowerCase()===o&&o.toUpperCase()!==o,n=r,r=o.toUpperCase()===o&&o.toLowerCase()!==o)}return e})(e)),r=e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((e,t)=>t.toUpperCase())).replace(/\d+(\w|$)/g,(e=>e.toUpperCase())),t.pascalCase?r.charAt(0).toUpperCase()+r.slice(1):r);var r};var u=p,d=p;u.default=d;const g=(e,t,r)=>(Object.entries(r).map((([r])=>{if(!t[r]){const t="SET_".concat(r.toUpperCase()),n=u("set_".concat(r));e[n]=e=>({type:t,value:e})}})),e),m=(e,t)=>Object.keys(e).length||Object.keys(t).length?(Object.entries(t).map((([t,r])=>{e[t]||(e[t]=(e=r,n)=>{switch(n.type){case"SET_".concat(t.toUpperCase()):return n.value;default:return e}})})),(0,a.combineReducers)(e)):e=>e,y=(e,t)=>{const r=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;return(r?r({name:e}):a.compose)((0,a.applyMiddleware)(f(t)))},f=e=>{const{before:t,after:r}=e;return e=>n=>a=>{t&&t[a.type]&&t[a.type](a,e);const o=n(a);return r&&r[a.type]&&r[a.type](a,e),o}},h=e=>e.charAt(0).toUpperCase()+e.slice(1),E=()=>{const e={};return{registerStore:(t,{state:r={},cache:n=[],actions:o={},reducers:s={},selectors:c={},effects:l={}})=>{if(!t)throw new Error("Missing key required for registerStore.");if(e[t])throw new Error("A store with the key '".concat(t,"' already exists."));const i=((e,t)=>{const r=localStorage.getItem(e);if(r){const e=JSON.parse(r);return{...t,...e}}return t})(t,r);var p,d,f;e[t]={actions:g(o,s,i),store:(0,a.createStore)(m(s,i),i,y(t,l))},e[t].selectors=((e,t)=>{const r={},n=t.getState();return Object.entries(n).map((([t])=>{const r=u("get_".concat(t));e[r]||(e[r]=e=>e[t])})),Object.entries(e).map((([e,n])=>{r[e]=(...e)=>n(t.getState(),...e)})),r})(c,e[t].store),p=t,d=e[t].store,(f=n).length&&d.subscribe((()=>{const e=d.getState(),t={};f.map((r=>{t[r]=e[r]})),localStorage.setItem(p,JSON.stringify(t))}))},useStore:(t,n=!0)=>{const{store:a}=e[t],o=a.getState(),s=(0,r.useRef)(o),[c,l]=(0,r.useState)(o);return(0,r.useEffect)((()=>(l(a.getState()),a.subscribe((()=>{const e=a.getState();i(n,s.current,e)&&l({...e}),s.current=e})))),[]),c},getStore:t=>e[t].store,getDispatch:t=>{const{actions:r,store:n}=e[t];return(0,a.bindActionCreators)(r,n.dispatch)},getSelectors:t=>e[t].selectors,getHooks:t=>{const{actions:n,store:o}=e[t];return((e,t)=>{const n=e.getState(),a={};return Object.keys(n).map((n=>{const o="use".concat(h(n));a[o]=(a=!0)=>{const[o,s]=(0,r.useState)(e.getState()[n]),c=(0,r.useRef)(e.getState()[n]);(0,r.useLayoutEffect)((()=>(s(e.getState()[n]),c.current=e.getState()[n],e.subscribe((()=>{const t=e.getState();i(a,o,c.current)&&s(t[n]),c.current=t[n]})))),[]);const l="set".concat(h(n));let p=t[l];return[o,p]}})),a})(o,(0,a.bindActionCreators)(n,o.dispatch))}}};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}const b={},C=({error:e,title:t="There seems to be an error",children:r,style:a={},...o})=>{const s={...a,display:"flex",flexDirection:"column",flex:"1 1 auto",justifyContent:"center",alignItems:"center",padding:40,textAlign:"center",minHeight:0,maxHeight:"100%"};return n().createElement("div",S({style:s},o),n().createElement("h1",{style:{marginBottom:20}},t),n().createElement("code",{style:{padding:10}},e.message),r)};b.Boundary=class extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){const{alternate:e=C,children:t}=this.props,{hasError:n,error:a}=this.state;return n?(0,r.createElement)(e,{error:a}):t}},b.Page=C;const w=()=>n().createElement("div",null,"Loading..."),A=({children:e,error:t,loading:a=w,router:s=o.MemoryRouter,routerProps:c={}})=>n().createElement(b.Boundary,{alternate:t},n().createElement(s,c,n().createElement(r.Suspense,{fallback:n().createElement(a,null)},e))),O={handle:null,label:null,isAppRoot:!1},R=(0,r.createContext)(O),v=()=>(0,r.useContext)(R),_=e=>n().createElement(b.Page,S({title:"App Core: There seems to be an issue rendering current app."},e)),P=()=>n().createElement("h1",{style:{margin:"auto"}},"Loading..."),j=({loading:e,error:t=T,apps:a})=>{const s=(0,o.useHistory)(),c=(0,o.useLocation)(),{app:l}=(0,o.useParams)();if((0,r.useEffect)((()=>{if(a[l]&&"function"==typeof a[l].onMount)return a[l].onMount()}),[l]),!a[l])return s.go(-s.length),s.replace("/",{}),null;const{label:i="",root:p}=a[l],u=2>=c.pathname.split("/").length,d={...O,handle:l,baseURL:"/".concat(l),label:i,isAppRoot:u};return n().createElement(R.Provider,{value:d},n().createElement(b.Boundary,{alternate:t},n().createElement(r.Suspense,{fallback:n().createElement(e,null)},n().createElement(x,S({root:p},d)))))},L=()=>n().createElement(U,null,n().createElement("h1",null,"App Not Found")),x=(0,r.memo)((({root:e,...t})=>e?n().createElement(e,t):n().createElement(L,null))),T=e=>{const{label:t}=v();return n().createElement(b.Page,S({title:"There seems to be an issue with the ".concat(t," app.")},e))},U=({children:e})=>n().createElement("div",{style:{flex:"1 1 auto",minHeight:0,maxHeight:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},e),M={};M.use=v,M.Content=({apps:e={},defaultApp:t="home",loading:r=P})=>n().createElement(b.Boundary,{alternate:_},n().createElement(o.Switch,null,n().createElement(o.Route,{exact:!0,path:"/"},n().createElement(o.Redirect,{to:"/".concat(t)})),n().createElement(o.Route,{path:"/:app",render:()=>n().createElement(j,{loading:r,apps:e})}))),window.FL=window.FL||{},FL.vendors=FL.vendors||{},FL.vendors.BBAppCore=t})();